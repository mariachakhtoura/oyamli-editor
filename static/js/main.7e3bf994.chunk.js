(this["webpackJsonpoyamli-editor"]=this["webpackJsonpoyamli-editor"]||[]).push([[0],{49:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(0),r=c.n(a),o=c(7),i=c.n(o),s=(c(49),c(9),function(e){var t=document.createElement("script");t.src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js",document.body.appendChild(t),t.onload=function(){e&&e()},e&&e()}),u=(c(50),c(13)),l=c(4),d=c(8),j=function(e){var t=e.src,c=e.transmitPlayerRef;return Object(n.jsx)(d.b,{src:t,className:"audioplayer",onPause:function(e){e.target.currentTime=e.target.currentTime-1},ref:function(e){c(e)},autoPlayAfterSrcChange:!1,customProgressBarSection:[d.a.MAIN_CONTROLS,d.a.CURRENT_TIME,d.a.PROGRESS_BAR,d.a.DURATION],customControlsSection:[],customAdditionalControls:[],progressJumpSteps:{backward:2e3,forward:2e3}})},m=c(41),b=c(42),f=c.n(b),p=function(e){var t=e.timeStamp,c=e.onNewMention,r=Object(a.useState)(),o=Object(l.a)(r,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){if(i&&""!==t){i.getData();i.model.change((function(e){var c=i.model.document.selection.getFirstPosition(),n=(Math.floor(t/3600)%60).toString().padStart(2,0),a=(Math.floor(t/60)%60).toString().padStart(2,0),r=Math.floor(t%60).toString().padStart(2,0),o=n>0?"[".concat(n,":").concat(a,":").concat(r,"]"):"[".concat(a,":").concat(r,"]");e.insertText(o,c,"before")}))}}),[t]),Object(n.jsx)(m.CKEditor,{editor:f.a,config:{language:{ui:"en",content:"ar"},mention:{feeds:[{marker:/@\b(\w+)\b$/,feed:c,minimumCharacters:1},{marker:/\b(?<!@)(\w+)\b$/,feed:function(e){return new Promise((function(t){fetch("https://oyamli-api.herokuapp.com/oyamli/".concat(e),{method:"POST"}).then((function(e){return e.json()})).then((function(e){t(e.result)}))}))},minimumCharacters:1}]}},data:"",onReady:function(e){s(e)},onChange:function(e,t){s(t)},onBlur:function(e,t){},onFocus:function(e,t){}})},O=c(43),h=function(e){var t=e.onContactsChange,c=Object(a.useState)(""),r=Object(l.a)(c,2),o=r[0],i=r[1],s=Object(a.useState)(),u=Object(l.a)(s,2),d=u[0],j=u[1],m=Object(a.useState)(),b=Object(l.a)(m,2),f=b[0],p=b[1];return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"contactsBoxHeader",children:["Persons",Object(n.jsxs)("div",{className:"contactsInputContainer",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"text",className:"contactInput",value:o,onChange:function(e){""!==e&&i(e.target.value)}}),f&&Object(n.jsx)("span",{className:"inputError",children:f})]}),Object(n.jsx)("button",{className:"contactAdd",onClick:function(e){if(o){p();var c=d||[],n=[].concat(Object(O.a)(c),[o]);j(n),t(n),i("")}else p("Empty input value")},children:"+"})]}),Object(n.jsx)("hr",{}),d&&d.length>0?d.map((function(e){return Object(n.jsxs)("div",{className:"contactItem",children:[Object(n.jsx)("span",{className:"contactName",children:e}),Object(n.jsx)("button",{className:"contactDelete",onClick:function(){return function(e){var c=d.filter((function(t){return t!==e}));j(c),t(c)}(e)},children:"x"})]},e)})):Object(n.jsx)("div",{className:"emptyContact",children:"No persons yet"})]})})};var x=function(){var e,t,c=Object(a.useState)(),r=Object(l.a)(c,2),o=r[0],i=r[1],s=Object(a.useState)(),d=Object(l.a)(s,2),m=d[0],b=d[1],f=Object(a.useState)(!0),O=Object(l.a)(f,2),x=O[0],v=O[1],g=Object(a.useState)(""),N=Object(l.a)(g,2),y=N[0],S=N[1],C=Object(a.useState)(),w=Object(l.a)(C,2),T=w[0],R=w[1],E=Object(a.useRef)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{tabIndex:"0",className:"App",onKeyDown:function(t){o&&(t.preventDefault(),"Escape"===t.code?e.audio.current.paused?e.audio.current.play():(e.audio.current.pause(),e.audio.current.currentTime=e.audio.current.currentTime-1):"F1"===t.code?e.audio.current.currentTime=e.audio.current.currentTime-2:"F2"===t.code?e.audio.current.currentTime=e.audio.current.currentTime+2:"F4"===t.code&&R(e.audio.current.currentTime))},children:[Object(n.jsxs)("div",{className:"audio_container",children:[Object(n.jsx)("input",{className:"input",id:"audio_file",type:"file",accept:".mp3, .m4a, .flac, .mp4, .wav, .wma, .aac",onChange:function(e){if(e.target.files&&e.target.files.length>0){S(""),v(!0);var t=e.target.files[0];i(t),b(URL.createObjectURL(t))}},ref:function(e){t=e}}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"urllabel",children:"or enter Youtube video URL"}),Object(n.jsx)("input",{className:"input",id:"audio_url",type:"text",value:y,onKeyDown:function(e){if(("Enter"===e.code||"NumpadEnter"===e.code)&&""!==y){var c=e.target.value;c.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\\&v=|\?v=)([^#\\&\\?]*).*/)?(v(!1),S(c.replace("watch?v=","embed/")),t.value="",t.file=""):u.b.error("Invalid youtube URL")}},onChange:function(e){S(e.target.value)}})]}),x?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(j,{src:m,transmitPlayerRef:function(t){e=t}}),o&&Object(n.jsxs)("div",{className:"shortcuts",children:[Object(n.jsx)("div",{className:"rewindshortcut",children:"F1"}),Object(n.jsx)("div",{className:"playshortcut",children:"Esc"}),Object(n.jsx)("div",{className:"forwardshortcut",children:"F2"}),Object(n.jsx)("div",{className:"timestampshortcut",children:"F4"})]})]}):Object(n.jsx)("div",{className:"player-wrapper",children:Object(n.jsx)("iframe",{className:"react-player",id:"player",title:"url-player",type:"text/html",src:y,frameBorder:"0"})})]}),Object(n.jsxs)("div",{className:"editorWrapper",children:[Object(n.jsx)(p,{timeStamp:T,onNewMention:function(){return E.current||[]}}),Object(n.jsx)(h,{onContactsChange:function(e){E.current=e}})]})]})})};c(68);var v=function(){return Object(a.useEffect)((function(){s((function(){}))})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x,{}),Object(n.jsx)(u.a,{position:"top-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,draggable:!0,pauseOnHover:!0})]})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(v,{})}),document.getElementById("root"))},9:function(e,t,c){}},[[69,1,2]]]);
//# sourceMappingURL=main.7e3bf994.chunk.js.map