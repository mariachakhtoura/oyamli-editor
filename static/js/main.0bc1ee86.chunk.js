(this["webpackJsonpoyamli-editor"]=this["webpackJsonpoyamli-editor"]||[]).push([[0],{49:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n.n(a),o=n(7),i=n.n(o),s=(n(49),n(9),function(e){var t=document.createElement("script");t.src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js",document.body.appendChild(t),t.onload=function(){e&&e()},e&&e()}),u=(n(50),n(13)),l=n(4),d=n(8),j=function(e){var t=e.src,n=e.transmitPlayerRef;return Object(c.jsx)(d.b,{src:t,className:"audioplayer",onPause:function(e){e.target.currentTime=e.target.currentTime-1},ref:function(e){n(e)},autoPlayAfterSrcChange:!1,customProgressBarSection:[d.a.MAIN_CONTROLS,d.a.CURRENT_TIME,d.a.PROGRESS_BAR,d.a.DURATION],customControlsSection:[],customAdditionalControls:[],progressJumpSteps:{backward:2e3,forward:2e3}})},m=n(41),b=n(42),f=n.n(b),p=function(e){var t=e.timeStamp,n=e.onNewMention,r=Object(a.useState)(),o=Object(l.a)(r,2),i=o[0],s=o[1];return Object(a.useEffect)((function(){if(i&&""!==t){i.getData();i.model.change((function(e){var n=i.model.document.selection.getFirstPosition(),c=(Math.floor(t/3600)%60).toString().padStart(2,0),a=(Math.floor(t/60)%60).toString().padStart(2,0),r=Math.floor(t%60).toString().padStart(2,0),o=c>0?"[".concat(c,":").concat(a,":").concat(r,"]"):"[".concat(a,":").concat(r,"]");e.insertText(o,n,"before")}))}}),[t]),Object(c.jsx)(m.CKEditor,{editor:f.a,config:{language:{ui:"en",content:"ar"},mention:{feeds:[{marker:/@\b(\w+)\b$/,feed:n,minimumCharacters:1},{marker:/\b(?<!@)(\w+)\b$/,feed:function(e){return new Promise((function(t){fetch("https://oyamli-api.herokuapp.com/oyamli/".concat(e),{method:"POST"}).then((function(e){return e.json()})).then((function(e){t(e.result)}))}))},minimumCharacters:1}]}},data:"",onReady:function(e){s(e)},onChange:function(e,t){s(t)},onBlur:function(e,t){},onFocus:function(e,t){}})},O=n(43),h=function(e){var t=e.onContactsChange,n=Object(a.useState)(""),r=Object(l.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)(),u=Object(l.a)(s,2),d=u[0],j=u[1],m=Object(a.useState)(),b=Object(l.a)(m,2),f=b[0],p=b[1];return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"contactsBoxHeader",children:["Persons",Object(c.jsxs)("div",{className:"contactsInputContainer",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"text",className:"contactInput",value:o,onChange:function(e){""!==e&&i(e.target.value)}}),f&&Object(c.jsx)("span",{className:"inputError",children:f})]}),Object(c.jsx)("button",{className:"contactAdd",onClick:function(e){if(o){p();var n=d||[],c=[].concat(Object(O.a)(n),[o]);j(c),t(c),i("")}else p("Empty input value")},children:"+"})]}),Object(c.jsx)("hr",{}),d&&d.length>0?d.map((function(e){return Object(c.jsxs)("div",{className:"contactItem",children:[Object(c.jsx)("span",{className:"contactName",children:e}),Object(c.jsx)("button",{className:"contactDelete",onClick:function(){return function(e){var n=d.filter((function(t){return t!==e}));j(n),t(n)}(e)},children:"x"})]},e)})):Object(c.jsx)("div",{className:"emptyContact",children:"No persons yet"})]})})};var v=function(){var e,t,n=Object(a.useState)(),r=Object(l.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)(),d=Object(l.a)(s,2),m=d[0],b=d[1],f=Object(a.useState)(!0),O=Object(l.a)(f,2),v=O[0],x=O[1],g=Object(a.useState)(""),N=Object(l.a)(g,2),y=N[0],S=N[1],C=Object(a.useState)(),w=Object(l.a)(C,2),T=w[0],R=w[1],E=Object(a.useRef)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{tabIndex:"0",className:"App",onKeyDown:function(t){o&&("Escape"===t.code?(t.preventDefault(),e.audio.current.paused?e.audio.current.play():(t.preventDefault(),e.audio.current.pause(),e.audio.current.currentTime=e.audio.current.currentTime-1)):"F1"===t.code?(t.preventDefault(),e.audio.current.currentTime=e.audio.current.currentTime-2):"F2"===t.code?(t.preventDefault(),e.audio.current.currentTime=e.audio.current.currentTime+2):"F4"===t.code&&(t.preventDefault(),R(e.audio.current.currentTime)))},children:[Object(c.jsxs)("div",{className:"audio_container",children:[Object(c.jsx)("input",{className:"input",id:"audio_file",type:"file",accept:".mp3, .m4a, .flac, .mp4, .wav, .wma, .aac",onChange:function(e){if(e.target.files&&e.target.files.length>0){S(""),x(!0);var t=e.target.files[0];i(t),b(URL.createObjectURL(t))}},ref:function(e){t=e}}),Object(c.jsxs)("div",{children:[Object(c.jsx)("span",{className:"urllabel",children:"or enter Youtube video URL"}),Object(c.jsx)("input",{className:"input",id:"audio_url",type:"text",value:y,onKeyDown:function(e){if(("Enter"===e.code||"NumpadEnter"===e.code)&&""!==y){var n=e.target.value;n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\\&v=|\?v=)([^#\\&\\?]*).*/)?(x(!1),S(n.replace("watch?v=","embed/")),t.value="",t.file=""):u.b.error("Invalid youtube URL")}},onChange:function(e){S(e.target.value)}})]}),v?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j,{src:m,transmitPlayerRef:function(t){e=t}}),o&&Object(c.jsxs)("div",{className:"shortcuts",children:[Object(c.jsx)("div",{className:"rewindshortcut",children:"F1"}),Object(c.jsx)("div",{className:"playshortcut",children:"Esc"}),Object(c.jsx)("div",{className:"forwardshortcut",children:"F2"}),Object(c.jsx)("div",{className:"timestampshortcut",children:"F4"})]})]}):Object(c.jsx)("div",{className:"player-wrapper",children:Object(c.jsx)("iframe",{className:"react-player",id:"player",title:"url-player",type:"text/html",src:y,frameBorder:"0"})})]}),Object(c.jsxs)("div",{className:"editorWrapper",children:[Object(c.jsx)(p,{timeStamp:T,onNewMention:function(){return E.current||[]}}),Object(c.jsx)(h,{onContactsChange:function(e){E.current=e}})]})]})})};n(68);var x=function(){return Object(a.useEffect)((function(){s((function(){}))})),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(v,{}),Object(c.jsx)(u.a,{position:"top-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,draggable:!0,pauseOnHover:!0})]})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(x,{})}),document.getElementById("root"))},9:function(e,t,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.0bc1ee86.chunk.js.map